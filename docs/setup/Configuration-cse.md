# Configuration - CSE Settings

The CSE settings are used to configure the CSE's general behavior, security settings, and statistics collection. 

## General Settings

**Section: `[cse]`**

These settings are used to configure basic settings and the general behavior of the CSE.

| Setting                                | Description                                                                                                                                                                                                                                                                                          | Default                                                                                     |
|:---------------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:--------------------------------------------------------------------------------------------|
| asyncSubscriptionNotifications         | Enable or disable asynchronous notification for normal runtime subscription notifications.                                                                                                                                                                                                           | True                                                                                        |
| checkExpirationsInterval               | Interval to check for expired resources. 0 means "no checking".                                                                                                                                                                                                                                      | 60 seconds                                                                                  |
| cseID                                  | The CSE ID.<br/>A CSE-ID must start with a `/`, and must not contain a further `/` or white space.                                                                                                                                                                                                   | /[${basic.config:cseID}](../setup/Configuration-basic.md#basic-configuration)               |
| defaultSerialization                   | Indicate the serialization format if none was given in a request and cannot be determined otherwise.<br/>Allowed values: json, cbor.                                                                                                                                                                 | json                                                                                        |
| enableRemoteCSE                        | Enable remote CSE registration and checking.<br/>See also command line arguments [–-remote-cse and -–no-remote-cse](../setup/Running.md#command-line-arguments).                                                                                                                                     | True                                                                                        |
| enableResourceExpiration               | Enable resource expiration. If disabled resources will not be expired when the "expirationTimestamp" is reached.                                                                                                                                                                                     | True                                                                                        |
| enableSubscriptionVerificationRequests | Enable or disable verification requests when creating a new subscription.                                                                                                                                                                                                                            | True                                                                                        |
| flexBlockingPreference                 | Indicate the preference for flexBlocking response types. Allowed values: "blocking", "nonblocking".                                                                                                                                                                                                  | blocking                                                                                    |
| idLength                               | This setting specifies the length of resource IDs generated by the CSE.<br/>This value can be increased or decreased as needed. A greater length increases the uniqueness of the resource ID, but also increases its size. This could be be relevant for the overall size of requests and responses. | 10                                                                                          |
| maxExpirationDelta                     | Default and maximum expirationTime allowed for resources in seconds.                                                                                                                                                                                                                                 | 60\*60\*24\*365\*5 = 157680000 seconds = 5 years                                            |
| originator                             | Admin originator for the CSE.                                                                                                                                                                                                                                                                        | CAdmin                                                                                      |
| poa                                    | Set the CSE's point-of-access. This is a comma-separated list of URLs.                                                                                                                                                                                                                               | The configured HTTP server's address.                                                       |
| releaseVersion                         | The release version indicator for requests. Allowed values: see setting of *supportedReleaseVersions*.                                                                                                                                                                                               | 5                                                                                           |
| requestExpirationDelta                 | Expiration time for requests sent by the CSE in seconds.                                                                                                                                                                                                                                             | 10.0 seconds                                                                                |
| resourceID                             | The \<CSEBase> resource's resource ID. This should be the same value as *cseID* without the leading `/`.                                                                                                                                                                                             | id-in                                                                                       |
| resourceName                           | The CSE's resource name or CSE-Name.                                                                                                                                                                                                                                                                 | [${basic.config:cseName}](../setup/Configuration-basic.md#basic-configuration)              |                                                                                   |
| resourcesPath                          | Directory of the CSE's *init* directory that hosts resources, policies, and other settings to import.<br/>See also command line argument [–-init-directory](../setup/Running.md#command-line-arguments).                                                                                             | [${basic.config:initDirectory}](../setup/Configuration-introduction.md#built-in-settings)   |
| sendToFromInResponses                  | Indicate whether the optional "to" and "from" parameters shall be sent in responses.                                                                                                                                                                                                                 | True                                                                                        |
| serviceProviderID                      | The CSE's service provider ID.<br/>It must start with `//`, and must not contain a further `/` or white space.                                                                                                                                                                                       | //[/${basic.config:serviceProviderID}](../setup/Configuration-basic.md#basic-configuration) |
| sortDiscoveredResources                | Enable alphabetical sorting of discovery results.                                                                                                                                                                                                                                                    | True                                                                                        |
| supportedReleaseVersions               | A comma-separated list of supported release versions. This list can contain a single or multiple values.                                                                                                                                                                                             | 2a,3,4,5                                                                                    |
| type                                   | The CSE type. Allowed values: IN, MN, ASN.                                                                                                                                                                                                                                                           | [${basic.config:cseType}](../setup/Configuration-basic.md#basic-configuration)              |


## Operation - Jobs

**Section: `[cse.operation.jobs]`**

These settings are used to configure the CSE's job and thread management.
Jobs are used to handle asynchronous tasks like resource expiration, resource announcements, and other tasks.

| Setting             | Description                                                                                                                                                                                                                    | Default |
|:--------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:--------|
| balanceTarget       | Thread Pool Management: Target balance between paused and running jobs (n paused for 1 running threads).                                                                                                                       | 3.0     |
| balanceLatency      | Thread Pool Management: Number of get / create requests for a new thread before performing a balance check. A latency of 0 disables the thread pool balancing.                                                                 | 1000    |
| balanceReduceFactor | Thread Pool Management: The factor to reduce the paused jobs (number of paused / balanceReduceFactor) in a balance check.<br/>Example: a factor of 2.0 reduces the number of paused threads by half in a single balance check. | 2.0     |


## Operation - Requests

**Section: `[cse.operation.requests]`**


These settings are used to configure the CSE's internal request recording.

| Setting | Description                                                                                                                                                                                               | Default |
|:--------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:--------|
| enable  | Enable request recording.                                                                                                                                                                                 | False   |
| size    | Maximum number of requests to be stored. Oldest requests will be deleted when this threshold is reached. Note, that a large number of requests might take a moment to be displayed in the console or UIs. | 250     |


## General Security

**Section: `[cse.security]`**

These settings are used to configure the CSE's security settings.

| Setting         | Description                                                           | Default                               |
|:----------------|:----------------------------------------------------------------------|:--------------------------------------|
| secret          | The main secret key used for seeding hash functions and encryption.   | [${basic.config:secret}](../setup/Configuration-basic.md#basic-configuration) |
| enableACPChecks | Enable access control checks.                                         | True                                  |
| fullAccessAdmin | Always grant the admin originator full access (bypass access checks). | True                                  |

## Statistics

**Section: `[cse.statistics]`**

These settings are used to configure the CSE's internal statistics collection and reporting.

| Setting       | Description                                                                                             | Default    |
|:--------------|:--------------------------------------------------------------------------------------------------------|:-----------|
| enable        | This setting enables or disables the CSE's statistics collection and reporting.                         | True       |
| writeInterval | This setting specifies the pause, in seconds, between writing the collected statistics to the database. | 60 seconds |

## Registration Configurarions


### CSE Registration 

**Section: `[cse.registration]`**

These settings are used to configure the CSE's internal registration behaviour, but also set the allowed originators for AE and CSR registrations.

| Setting               | Description                                                                                                                                                                                                   | Default    |
|:----------------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-----------|
| allowedAEOriginators  | List of AE originators that can register. This is a comma-separated list of originators. Wildcards (\* and ?) are supported.                                                                                  | C\*, S\*   |
| allowedCSROriginators | List of CSR originators that can register. This is a comma-separated list of originators. Wildcards (\* and ?) are supported.<br />**Note**: CSE-IDs must be in absolute or SP-relative form.                 | empty list |
| checkLiveliness       | Check the liveliness of the registrations to the registrar CSE and also from the registree CSEs.                                                                                                              | True       |
| checkInterval         | This setting specifies the pause in seconds between tries to connect to the configured registrar CSE. This value is also used to check the connectivity to the registrar CSE after a successful registration. | 60 seconds |


### Registrar CSE Access 

**Section: `[cse.registrar]`**

These settings are used to configure the address, access and general behavior to a Registrar CSE.

| Setting              | Description                                                                                                                 | Default                                                                                                                         |
|:---------------------|:----------------------------------------------------------------------------------------------------------------------------|:--------------------------------------------------------------------------------------------------------------------------------|
| address              | URL of the Registrar CSE.                                                                                                   | [http://${basic.config:registrarCseHost}:${basic.config:registrarCsePort}](../setup/Configuration-basic.md#basic-configuration) |
| root                 | Registrar CSE root path. Never provide a trailing `/`.                                                                      | empty string                                                                                                                    |
| cseID                | CSE-ID of the Registrar CSE.<br />A CSE-ID must start with a `/`, and must not contain a further `/` or white space.        | /[${basic.config:registrarCseID}](../setup/Configuration-basic.md#basic-configuration)                                          |
| resourceName         | The Registrar CSE's resource name.                                                                                          | [${basic.config:registrarCseName}](../setup/Configuration-basic.md#basic-configuration)                                         |
| INCSEcseID           | The CSE-ID of the Infrastructure CSE at the top of the deployment tree.                                                     | /id-in                                                                                                                          |
| serialization        | Specify the serialization type that must be used for the registration to the registrar CSE.<br />Allowed values: json, cbor | json                                                                                                                            |
| excludeCSRAttributes | Comma separated list of attributes that are excluded when creating a registrar CSR.                                         | empty list                                                                                                                      |
| originator           | The originator used for the registration to the registrar CSE.                                                              | The CSE's CSE ID                                                                                                                |

### Registrar CSE Security Settings

**Section: `[cse.registrar.security]`**

| Setting          | Description                                                                                                                                         | Default      |
|:-----------------|:----------------------------------------------------------------------------------------------------------------------------------------------------|:-------------|
| httpUsername     | The username used for the Registrar CSE authentication via *http* if basic authentication is enabled for the Registrar CSE.                         | empty string |
| httpPassword     | The password used for the Registrar CSE authentication via *http* if basic authentication is enabled for the Registrar CSE.                         | empty string |
| httpBearerToken  | The authentication token used for the Registrar CSE authentication via *http* if bearer token authentication is enabled for the Registrar CSE.      | empty string |
| wsUsername       | The username used for the Registrar CSE authentication via *WebSocket* if basic authentication is enabled for the Registrar CSE.                    | empty string |
| wsPassword       | The password used for the Registrar CSE authentication via *WebSocket* if basic authentication is enabled for the Registrar CSE.                    | empty string |
| wsBearerToken    | The authentication token used for the Registrar CSE authentication via *WebSocket* if bearer token authentication is enabled for the Registrar CSE. | empty string |
| selfHttpUsername | The own CSE's username used for the Registrar CSE authentication via *http* if basic authentication is enabled for the Registrar CSE.               | empty string |
| selfHttpPassword | The own CSE's password used for the Registrar CSE authentication via *http* if basic authentication is enabled for the Registrar CSE.               | empty string |
| selfWsUsername   | The own CSE's username used for the Registrar CSE authentication via *WebSocket* if basic authentication is enabled for the Registrar CSE.          | empty string |
| selfWsPassword   | The own CSE's password used for the Registrar CSE authentication via *WebSocket* if basic authentication is enabled for the Registrar CSE.          | empty string |


### Service Provider Registrations

**Section: `[cse.sp.registrar.{SP Name}]`**

These settings are used to configure the behavior when registering to another service provider's Infrastructure CSE. 
If one wants to register to more than one service provider, one must create a separate section for each service provider 
with a name or identifier for the service provider as part of the section name.

The section name has a fixed prefix of `cse.sp.registrar.` followed by a unique identifier for that particular service provider registration. This identifier is also used in the optional security settings section for that service provider registration.

| Setting              | Description                                                                                                                                                   | Default          |
|:---------------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------|:-----------------|
| spID                 | The oneM2M Service Provider ID (SP-ID) of the service provider to regiser to.<br/>It must start with `//`, and must not contain a further `/` or white space. | none             |
| address              | URL of the other service provider's IN-CSE.                                                                                                                   | none             |
| root                 | The service provider's IN-CSE root path. Never provide a trailing `/`.                                                                                        | empty string     |
| cseID                | CSE-ID of the service provider's IN-CSE.<br/>A CSE-ID must start with a `/`, and must not contain a further `/` or white space.                               | no default       |
| excludeCSRAttributes | Comma separated list of attributes that are excluded when creating a registrar CSR.                                                                           | empty list       |
| resourceName         | The service provider's IN-CSE's resource name.                                                                                                                | no default       |
| INCSEcseID           | The CSE-ID of the Infrastructure CSE at the top of the deployment tree.                                                                                       | /id-in           |
| serialization        | Specify the serialization type that must be used for the registration to the service provider's IN-CSE.<br />Allowed values: json, cbor                       | json             |
| originator           | The originator used for the registration to the service provider's IN-CSE.                                                                                    | The CSE's CSE ID |


### Service Provider Security Settings

**Section: `[cse.sp.registrar.security.{SP Name}]`**

These settings are used to configure the security settings when registering to another service provider's Infrastructure CSE. 
If one wants to register to more than one service provider, one must create a separate section for each service provider
with a name or identifier for the service provider as part of the section name.

The section name must match the section name of the service provider's registration settings, i.e.

```ini title="Example of a service provider's registration section, including security settings"
[cse.sp.registrar.MySP]
...

[cse.sp.registrar.security.MySP]
...	
```


| Setting          | Description                                                                                                                                                                 | Default      |
|:-----------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-------------|
| httpUsername     | The username used for the service provider's IN-CSE authentication via *http* if basic authentication is enabled for the service provider's IN-CSE.                         | empty string |
| httpPassword     | The password used for the service provider's IN-CSE authentication via *http* if basic authentication is enabled for the service provider's IN-CSE.                         | empty string |
| httpBearerToken  | The authentication token used for the service provider's IN-CSE authentication via *http* if bearer token authentication is enabled for the service provider's IN-CSE.      | empty string |
| wsUsername       | The username used for the service provider's IN-CSE authentication via *WebSocket* if basic authentication is enabled for the Registrar CSE.                                | empty string |
| wsPassword       | The password used for the service provider's IN-CSE authentication via *WebSocket* if basic authentication is enabled for the Registrar CSE.                                | empty string |
| wsBearerToken    | The authentication token used for the service provider's IN-CSE authentication via *WebSocket* if bearer token authentication is enabled for the service provider's IN-CSE. | empty string |
| selfHttpUsername | The own CSE's username used for the service provider's IN-CSE authentication via *http* if basic authentication is enabled for the service provider's IN-CSE.               | empty string |
| selfHttpPassword | The own CSE's password used for the service provider's IN-CSE authentication via *http* if basic authentication is enabled for the service provider's IN-CSE.               | empty string |
| selfWsUsername   | The own CSE's username used for the service provider's IN-CSE authentication via *WebSocket* if basic authentication is enabled for the service provider's IN-CSE.          | empty string |
| selfWsPassword   | The own CSE's password used for the service provider's IN-CSE authentication via *WebSocket* if basic authentication is enabled for the service provider's IN-CSE.          | empty string |



### Resource Announcements

**Section: `[cse.announcements]`**

These settings are used to configure the behavior of resource announcements. They control mainly internal CSE behaviour and are not directly related to the oneM2M standard.

| Setting                        | Description                                                                                                                 | Default    |
|:-------------------------------|:----------------------------------------------------------------------------------------------------------------------------|:-----------|
| checkInterval                  | Wait n seconds between tries to announce resources to registered remote CSE.                                                | 10 seconds |
| allowAnnouncementsToHostingCSE | Allow resource announcements to the own hosting CSE.                                                                        | True       |
| delayAfterRegistration         | Specify a short delay in seconds before starting announcing resources after a remote CSE has registered at the hosting CSE. | 3 seconds  |





